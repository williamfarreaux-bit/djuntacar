<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>DjuntaCar - Planifier le voyage</title>
    
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&display=swap');
        * { font-family: 'Montserrat', sans-serif !important; -webkit-tap-highlight-color: transparent; }
        
        body { background-color: #fcfcfd; margin: 0; padding-top: 75px; padding-bottom: 120px; overflow-x: hidden; }
        
        /* HEADER FIXE */
        header {
            position: fixed; top: 0; left: 0; right: 0; height: 75px;
            background: white; z-index: 1000; border-bottom: 1px solid #f1f5f9;
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 16px; box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        .logo-center {
            position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
            display: flex; align-items: center;
        }

        /* HERO HEADER */
        .search-header {
            background-color: #1d4379;
            padding: 40px 24px 80px 24px;
            border-bottom-left-radius: 40px;
            border-bottom-right-radius: 40px;
            color: white;
            text-align: center;
        }

        /* FORMULAIRE */
        .form-container {
            width: 92%; max-width: 500px;
            margin: -60px auto 0 auto;
            background: white;
            border-radius: 28px;
            padding: 24px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.08);
            border: 1px solid #f1f5f9;
            position: relative; z-index: 10;
        }

        .input-label {
            display: block; font-size: 10px; font-weight: 800; text-transform: uppercase;
            color: #94a3b8; margin-bottom: 8px; letter-spacing: 0.5px;
        }

        .input-field {
            width: 100%; height: 55px; border-radius: 16px;
            background: #f8fafc; border: 1px solid #e2e8f0;
            padding: 0 16px; font-size: 14px; font-weight: 700;
            color: #1d4379; outline: none; display: flex; align-items: center; gap: 12px;
        }

        /* BOUTON FIXE BAS */
        .fixed-btn-container {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: white; border-top: 1px solid #f1f5f9;
            padding: 16px 24px 35px; z-index: 100;
        }

        .btn-search {
            width: 100%; height: 60px; background: #1d4379; color: white;
            border-radius: 20px; font-weight: 900; font-size: 13px;
            text-transform: uppercase; letter-spacing: 1px;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            box-shadow: 0 10px 25px rgba(29, 67, 121, 0.3); border: none;
        }

        #mobile-menu { position: fixed; inset: 0; background: white; z-index: 2000; display: none; padding: 40px; flex-direction: column; }
        #mobile-menu.active { display: flex; }
        .error-text { color: #ef4444 !important; }
    </style>

    <script>
        // --- DATA & TRADUCTIONS ---
        const GEO_DATA = {
            "Santiago": ["Aeroporto Nelson Mandela (RAI)", "Porto da Praia", "Praia (Cidade)", "Assomada", "Tarrafal"],
            "S√£o Vicente": ["Aeroporto Ces√°ria √âvora (VXE)", "Porto Grande (Mindelo)", "Mindelo (Cidade)"],
            "Sal": ["Aeroporto Am√≠lcar Cabral (SID)", "Santa Maria (Cidade)", "Espargos"],
            "Boa Vista": ["Aeroporto Aristides Pereira (BVC)", "Sal Rei (Cidade)"],
            "Fogo": ["Aeroporto S√£o Filipe", "S√£o Filipe (Cidade)"],
            "Santo Ant√£o": ["Porto de Porto Novo", "Porto Novo (Cidade)", "Ribeira Grande"],
            "S√£o Nicolau": ["Aeroporto Pregui√ßa", "Ribeira Brava"],
            "Maio": ["Aeroporto do Maio", "Vila do Maio"],
            "Brava": ["Porto da Furna", "Nova Sintra"]
        };

        const UI_TEXT = {
            fr: {
                hero_title: "Planifiez votre<br>prochain voyage",
                hero_sub: "Choisissez les dates et voyagez l'esprit tranquille.",
                label_island: "Choisir l'√Æle",
                label_loc: "Lieu de prise en charge",
                label_start: "Date de d√©but",
                label_end: "Date de fin",
                label_type: "Type de v√©hicule",
                btn_search: "Voir les v√©hicules",
                err_island: "S√âLECTIONNEZ D'ABORD UNE √éLE"
            },
            pt: {
                hero_title: "Planeie a sua<br>pr√≥xima viagem",
                hero_sub: "Escolha as datas e viaje tranquilo.",
                label_island: "Escolher a ilha",
                label_loc: "Local de levantamento",
                label_start: "Data de levantamento",
                label_end: "Data de devolu√ß√£o",
                label_type: "Tipo de ve√≠culo",
                btn_search: "Ver Ve√≠culos",
                err_island: "SELECIONE PRIMEIRO UMA ILHA"
            }
        };

        function toggleMenu() { document.getElementById('mobile-menu').classList.toggle('active'); }

        function updateLocations(island) {
            const locSelect = document.getElementById('location');
            locSelect.disabled = false;
            locSelect.classList.remove('error-text');
            let options = `<option value="" disabled selected>${UI_TEXT[currentLang].label_loc}</option>`;
            GEO_DATA[island].forEach(l => { options += `<option value="${l}">${l}</option>`; });
            locSelect.innerHTML = options;
        }

        function handleLocClick(e) {
            const island = document.getElementById('island').value;
            if(!island) {
                e.preventDefault();
                const locSelect = document.getElementById('location');
                locSelect.innerHTML = `<option value="" class="error-text">${UI_TEXT[currentLang].err_island}</option>`;
                locSelect.classList.add('error-text');
            }
        }

        let currentLang = 'fr';
        function changeLanguage(lang) {
            localStorage.setItem('djunta_lang', lang);
            currentLang = lang;
            const t = UI_TEXT[lang];
            document.getElementById('hero-title').innerHTML = t.hero_title;
            document.getElementById('hero-sub').innerText = t.hero_sub;
            document.getElementById('btn-text').innerText = t.btn_search;
            // Update labels
            document.querySelectorAll('[data-label]').forEach(el => {
                el.innerText = t[el.getAttribute('data-label')];
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            const saved = localStorage.getItem('djunta_lang') || 'fr';
            document.getElementById('lang-selector').value = saved;
            changeLanguage(saved);

            // Init Dates
            const now = new Date();
            now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
            document.getElementById('start-date').value = now.toISOString().slice(0, 16);
            const tomorrow = new Date(now);
            tomorrow.setDate(tomorrow.getDate() + 2);
            document.getElementById('end-date').value = tomorrow.toISOString().slice(0, 16);
        });
    </script>
</head>
<body class="antialiased">

    <header>
        <button onclick="toggleMenu()" style="font-size: 28px; background:none; border:none; color:#1d4379; cursor:pointer;">‚ò∞</button>
        <div class="logo-center" onclick="location.href='index.html'">
            <img src="./logo.png" alt="DjuntaCar" style="height: 40px;" onerror="this.outerHTML='<b style=\'color:#1d4379; font-style:italic; font-size:22px;\'>DjuntaCar</b>'">
        </div>
        <div class="flex items-center gap-2">
            <select id="lang-selector" onchange="changeLanguage(this.value)" class="bg-slate-100 text-[#1d4379] text-[11px] font-bold py-2 px-1 rounded-lg border-none outline-none">
                <option value="fr">FR</option><option value="pt">PT</option><option value="en">EN</option>
            </select>
            <div onclick="location.href='profile.html'" class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center cursor-pointer border border-slate-200">üë§</div>
        </div>
    </header>

    <div id="mobile-menu">
        <div class="flex justify-between items-center"><b class="text-[#1d4379] text-xl italic">DjuntaCar</b><button onclick="toggleMenu()" style="font-size: 35px; border:none; background:none; color:#1d4379;">‚úï</button></div>
        <nav class="flex flex-col gap-8 mt-16 font-black text-[#1d4379] text-2xl uppercase">
            <a href="index.html">Accueil</a><a href="search-car.html">Louer</a><a href="profile.html">Profil</a>
        </nav>
    </div>

    <div class="search-header">
        <h1 id="hero-title" class="text-xl font-black uppercase tracking-tight">Planifiez votre<br>prochain voyage</h1>
        <p id="hero-sub" class="text-xs font-medium text-blue-200 mt-2">Choisissez les dates et voyagez l'esprit tranquille.</p>
    </div>

    <div class="form-container">
        <div class="mb-5">
            <label class="input-label" data-label="label_island">Choisir l'√Æle</label>
            <div class="input-field">
                <span>üèùÔ∏è</span>
                <select id="island" onchange="updateLocations(this.value)" class="w-full bg-transparent outline-none font-bold">
                    <option value="" disabled selected>S√©lectionner...</option>
                    <option value="Santiago">Santiago</option><option value="S√£o Vicente">S√£o Vicente</option>
                    <option value="Sal">Sal</option><option value="Boa Vista">Boa Vista</option>
                </select>
            </div>
        </div>

        <div class="mb-5">
            <label class="input-label" data-label="label_loc">Lieu de prise en charge</label>
            <div class="input-field">
                <span>üìç</span>
                <select id="location" onmousedown="handleLocClick(event)" class="w-full bg-transparent outline-none font-bold text-slate-400" disabled>
                    <option value="">Lieu...</option>
                </select>
            </div>
        </div>

        <div class="grid grid-cols-1 gap-4 mb-5">
            <div>
                <label class="input-label" data-label="label_start">Date de d√©but</label>
                <input type="datetime-local" id="start-date" class="input-field font-bold text-slate-700">
            </div>
            <div>
                <label class="input-label" data-label="label_end">Date de fin</label>
                <input type="datetime-local" id="end-date" class="input-field font-bold text-slate-700">
            </div>
        </div>

        <div>
            <label class="input-label" data-label="label_type">Type de v√©hicule</label>
            <div class="flex gap-2">
                <button class="bg-[#1d4379] text-white px-4 py-2 rounded-xl text-[10px] font-black uppercase">Tous</button>
                <button class="bg-slate-50 text-slate-400 border border-slate-200 px-4 py-2 rounded-xl text-[10px] font-black uppercase">4x4 / SUV</button>
            </div>
        </div>
    </div>

    <div class="fixed-btn-container">
        <button onclick="location.href='results.html'" class="btn-search">
            <span id="btn-text">Voir les v√©hicules</span> <span>‚Üí</span>
        </button>
    </div>

</body>
</html>

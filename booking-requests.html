<div class="bg-white p-6 rounded-[2rem] border border-gray-100 shadow-sm mt-6">
    <label class="text-[10px] font-bold text-gray-400 uppercase block mb-4">Planning du chauffeur</label>
    
    <div class="space-y-4">
        <div class="flex items-center gap-3 bg-gray-50 p-4 rounded-2xl">
            <i data-lucide="clock-3" class="w-5 h-5 text-[#1d4379]"></i>
            <div class="flex-1">
                <span class="text-[9px] font-bold text-gray-400 block">DÉBUT (CHECK-IN)</span>
                <input type="text" id="start-time" placeholder="08:00" class="bg-transparent font-bold text-sm outline-none">
            </div>
        </div>

        <div class="flex items-center gap-3 bg-gray-50 p-4 rounded-2xl">
            <i data-lucide="clock-9" class="w-5 h-5 text-red-500"></i>
            <div class="flex-1">
                <span class="text-[9px] font-bold text-red-400 block">FIN MAX (MAX 10H)</span>
                <input type="text" id="end-time" placeholder="18:00" class="bg-transparent font-bold text-sm outline-none">
            </div>
        </div>
    </div>
    
    <p id="time-warning" class="text-[10px] text-red-500 font-bold mt-4 hidden">
        Attention : Le chauffeur ne peut pas travailler plus de 10h.
    </p>
</div>

<script>
    // Initialisation Flatpickr avec contraintes
    flatpickr("#start-time", { enableTime: true, noCalendar: true, dateFormat: "H:i", time_24hr: true });
    flatpickr("#end-time", { enableTime: true, noCalendar: true, dateFormat: "H:i", time_24hr: true });

    // Calcul automatique pour prévenir l'utilisateur
    document.querySelectorAll('input').forEach(input => {
        input.addEventListener('change', () => {
            const start = document.getElementById('start-time').value;
            const end = document.getElementById('end-time').value;
            if(start && end) {
                const diff = calculateHours(start, end);
                document.getElementById('time-warning').classList.toggle('hidden', diff <= 10);
            }
        });
    });

    function calculateHours(start, end) {
        const s = start.split(':');
        const e = end.split(':');
        const startDate = new Date(0, 0, 0, s[0], s[1], 0);
        const endDate = new Date(0, 0, 0, e[0], e[1], 0);
        return (endDate.getTime() - startDate.getTime()) / 1000 / 60 / 60;
    }
</script>

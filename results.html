<div id="selection-bar" class="fixed bottom-6 left-6 right-6 bg-[#1d4379] text-white p-4 rounded-2xl shadow-2xl flex justify-between items-center hidden z-[60]">
    <div class="flex items-center gap-3">
        <span id="selection-count" class="bg-white text-[#1d4379] w-6 h-6 rounded-full flex items-center justify-center font-black text-xs">0</span>
        <span class="text-xs font-bold">Véhicules sélectionnés (max 3)</span>
    </div>
    <a href="booking-requests.html" class="bg-[#22c55e] px-4 py-2 rounded-xl text-[11px] font-black uppercase">Continuer</a>
</div>

<script>
    let selectedVehicles = [];

    function toggleSelection(vehicleId, vehicleName) {
        const index = selectedVehicles.indexOf(vehicleId);
        if (index > -1) {
            selectedVehicles.splice(index, 1);
        } else {
            if (selectedVehicles.length < 3) {
                selectedVehicles.push(vehicleId);
            } else {
                alert("Vous pouvez choisir jusqu'à 3 véhicules maximum.");
                return;
            }
        }
        updateSelectionUI();
    }

    function updateSelectionUI() {
        const bar = document.getElementById('selection-bar');
        const count = document.getElementById('selection-count');
        count.innerText = selectedVehicles.length;
        bar.classList.toggle('hidden', selectedVehicles.length === 0);
        // Sauvegarder dans le stockage pour la page suivante
        localStorage.setItem('djunta_selection', JSON.stringify(selectedVehicles));
    }
</script>
